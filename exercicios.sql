ALTER DATABASE OPEN

CREATE TABLE PROFESSORES (
    PROFESSOR_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
    NOME VARCHAR2(64) NOT NULL,
    SOBRENOME VARCHAR2(64) NOT NULL,
    ID_ENDERECO NUMBER NOT NULL,
    TELEFONE VARCHAR2(14) NOT NULL,
    EMAIL VARCHAR2(100) NOT NULL,
    DATA_NASCIMENTO DATE NOT NULL,
    NACIONALIDADE VARCHAR2(50) NOT NULL
);

CREATE TABLE ENDERECO (
    ENDERECO_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
    LOGRADOURO VARCHAR2(64) NOT NULL,
    NUMERO VARCHAR2(10) NOT NULL,
    COMPLEMENTO VARCHAR2(64),
    BAIRRO VARCHAR2(64) NOT NULL,
    ESTADO VARCHAR2(64) NOT NULL
);

CREATE TABLE ESTUDANTES (
    ESTUDANTE_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
    NOME VARCHAR2(64) NOT NULL,
    SOBRENOME VARCHAR2(64) NOT NULL,
    MATRICULA NUMBER NOT NULL,
    EMAIL VARCHAR2(100) NOT NULL,
    DATA_NASCIMENTO DATE NOT NULL,
    NACIONALIDADE VARCHAR2(50) NOT NULL,
    MEDIA_GERAL NUMBER(5,1) NOT NULL
);

CREATE TABLE CURSOS (
    CURSO_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
    NOME VARCHAR2(64) NOT NULL,
    CATEGORIA VARCHAR2(64) NOT NULL,
    PROFESSOR VARCHAR2(100) NOT NULL,
    NUMERO_MAX_ALUNOS NUMBER(5,1) NOT NULL
);

CREATE TABLE MATRICULA_CURSO (
    MATRICULA_CURSO_ID NUMBER GENERATED BY DEFAULT AS IDENTITY,
    ESTUDANTE_ID NUMBER NOT NULL,
    CURSO_ID NUMBER NOT NULL,
    MEDIA NUMBER(5,1)
);

ALTER TABLE PROFESSORES ADD PRIMARY KEY (PROFESSOR_ID);
ALTER TABLE ENDERECO ADD PRIMARY KEY (ENDERECO_ID);
ALTER TABLE ESTUDANTES ADD PRIMARY KEY (ESTUDANTE_ID);
ALTER TABLE CURSOS ADD PRIMARY KEY (CURSO_ID);
ALTER TABLE MATRICULA_CURSO ADD PRIMARY KEY (MATRICULA_CURSO_ID);

ALTER TABLE PROFESSORES RENAME COLUMN ID_ENDERECO TO ENDERECO_ID;

ALTER TABLE PROFESSORES ADD FOREIGN KEY(ENDERECO_ID) REFERENCES ENDERECO(ENDERECO_ID);
ALTER TABLE MATRICULA_CURSO ADD FOREIGN KEY(ESTUDANTE_ID) REFERENCES ESTUDANTES(ESTUDANTE_ID);
ALTER TABLE MATRICULA_CURSO ADD FOREIGN KEY(CURSO_ID) REFERENCES CURSOS(CURSO_ID);

ALTER TABLE ENDERECO ADD CEP VARCHAR2(64) NOT NULL;
ALTER TABLE ENDERECO ADD CIDADE VARCHAR2(64) NOT NULL;

INSERT INTO ENDERECO (CEP, LOGRADOURO, NUMERO, COMPLEMENTO, BAIRRO, CIDADE, ESTADO) 
VALUES ('68925-070', 'Rua Macapá', '607', null, 'Comercial', 'Santana', 'AP');
INSERT INTO ENDERECO (CEP, LOGRADOURO, NUMERO, COMPLEMENTO, BAIRRO, CIDADE, ESTADO) 
VALUES ('60510-715', 'Travessa Leandro Serpa', '856', null, 'Dom Lustosa', 'Fortaleza', 'CE');
INSERT INTO ENDERECO (CEP, LOGRADOURO, NUMERO, COMPLEMENTO, BAIRRO, CIDADE, ESTADO) 
VALUES ('54310-301', 'Travessa Arão Lins de Andrade', '943', null, 'Prazeres', 'Jaboatão dos Guararapes', 'PE');

INSERT INTO PROFESSORES (NOME, SOBRENOME, ENDERECO_ID, TELEFONE, EMAIL, DATA_NASCIMENTO, NACIONALIDADE) 
VALUES ('Bento', 'Oliveira', 1, '(81) 2964-2672', 'bento.pedro.oliveira@doublesp.com.br', '09/01/1952', 'Brasileiro');
INSERT INTO PROFESSORES (NOME, SOBRENOME, ENDERECO_ID, TELEFONE, EMAIL, DATA_NASCIMENTO, NACIONALIDADE) 
VALUES ('Alessandra Cláudia', 'Silvana Pinto', 3, '(68) 3748-2405', 'alessandra.claudia.pinto@phocus.com.br', '23/01/1972', 'Brasileiro');
INSERT INTO PROFESSORES (NOME, SOBRENOME, ENDERECO_ID, TELEFONE, EMAIL, DATA_NASCIMENTO, NACIONALIDADE) 
VALUES ('Marcelo Thales Otávio', 'Galvão', 2, '(79) 2746-7775', 'marcelo.thales.galvao@milimoveis.com.br', '14/03/1963', 'Brasileiro');

INSERT INTO ESTUDANTES (NOME, SOBRENOME, MATRICULA, EMAIL, DATA_NASCIMENTO, NACIONALIDADE, MEDIA_GERAL) 
VALUES ('Sophia', 'Cruz', 123, 'sophia_nair_dacruz@lojascentrodamoda.com.br', '06/02/1961', 'Brasileiro', 9.5);
INSERT INTO ESTUDANTES (NOME, SOBRENOME, MATRICULA, EMAIL, DATA_NASCIMENTO, NACIONALIDADE, MEDIA_GERAL) 
VALUES ('Gabrielly Sabrina', 'Caldeira', 444, 'gabrielly_caldeira@anac.gov.br', '16/03/2000', 'Brasileiro', 8.6);
INSERT INTO ESTUDANTES (NOME, SOBRENOME, MATRICULA, EMAIL, DATA_NASCIMENTO, NACIONALIDADE, MEDIA_GERAL) 
VALUES ('Benjamin Heitor', 'Nunes', 0987, 'benjamin-nunes76@sanidet.com.br', '08/03/1984', 'Brasileiro', 5.9);

INSERT INTO CURSOS (NOME, CATEGORIA, PROFESSOR, NUMERO_MAX_ALUNOS) 
VALUES ('Informática Biomédica', 'Presencial', 'Isabela', 50);
INSERT INTO CURSOS (NOME, CATEGORIA, PROFESSOR, NUMERO_MAX_ALUNOS) 
VALUES ('Medicina', 'EAD', 'Gustavo', 110);
INSERT INTO CURSOS (NOME, CATEGORIA, PROFESSOR, NUMERO_MAX_ALUNOS) 
VALUES ('Biomedicina', 'Presencial', 'João', 30);

INSERT INTO MATRICULA_CURSO (ESTUDANTE_ID, CURSO_ID, MEDIA) 
VALUES (1, 2, 6.4);
INSERT INTO MATRICULA_CURSO (ESTUDANTE_ID, CURSO_ID, MEDIA) 
VALUES (2, 1, 8.4);
INSERT INTO MATRICULA_CURSO (ESTUDANTE_ID, CURSO_ID, MEDIA) 
VALUES (3, 2, 7.3);

select * from professores
select * from endereco
select * from estudantes
select * from cursos
select * from matricula_curso